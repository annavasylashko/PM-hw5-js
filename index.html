<!DOCTYPE html>
<html lang="en">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <head>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
        font-size: 1.2rem;
        color: rgb(255, 255, 255);
        background: rgb(254, 172, 94);
        background: linear-gradient(
          40deg,
          rgba(254, 172, 94, 1) 20%,
          rgba(199, 121, 208, 1) 63%,
          rgba(75, 192, 200, 1) 100%
        );
      }
      .container {
        margin: 20px auto;
        padding: 40px 70px;
        border-radius: 40px;
        max-width: 600px;
        background-color: rgba(77, 66, 77, 0.062);
      }
      h2 {
        margin: 0;
        color: rgb(230, 230, 230);
      }
      button {
        border: solid 1px transparent;
        background-color: rgba(131, 106, 133, 0.137);
        border-radius: 10px;
        padding: 5px 10px;
        color: rgb(255, 255, 255);
        font-size: 1rem;
        outline: none;
      }
      button:hover {
        border-color: rgb(255, 255, 255);
      }
      a {
        text-decoration: none;
        color: rgb(255, 255, 255);
        font-size: 1rem;
      }
    </style>
    <title>Homework5</title>
  </head>
  <body>
    <div class="container">
      <h2>Homework 5</h2>
      <p>
        1. Запросить у пользователя два числа, n и m - вывести все числа в
        диапазоне между ними.
      </p>
      <button type="button" onclick="first()">Go</button>

      <p>
        2. Запросить у пользователя два числа, написать функцию при помощи
        стрелочного синтаксиса и аналог с function expression которая бы
        возводила первое число в степень второго введенного числа, или в степень
        2 по умолчанию.
      </p>
      <button type="button" onclick="second()">Go</button>
    </div>

    <div class="container">
      <h2>Работа с Number</h2>
      <p>
        1. Запросить у пользователя два числа с плавающей точкой - умножить на
        0.3 и округлить до ближайшего целого числа.
      </p>
      <button type="button" onclick="third()">Go</button>

      <p>
        2. Запросить у пользователя два числа - вывести случайное целое число в
        этом диапазоне.
      </p>
      <button type="button" onclick="fourth()">Go</button>
    </div>

    <div class="container">
      <h2>Работа со строками</h2>
      <p>
        1. Запросить у пользователя две строки, найти сколько раз повторяется
        вторая в первой. Вывести индексы всех вхождений.
      </p>
      <button type="button" onclick="fifth()">Go</button>

      <p>
        2. Найти все численные значения в строке “ECMAScript 2015 (6th Edition,
        ECMA-262)”.
      </p>
      <button type="button" onclick="sixth()">Go</button>

      <p>
        3. Найти все символы в верхнем регистре “ECMAScript 2015 (6th Edition,
        ECMA-262)”.
      </p>
      <button type="button" onclick="seventh()">Go</button>

      <p>
        4.1. Найти все теги script и /script.
        <br />
        4.2. Найти все значения цветов #HEX в HTML.
        <br />
        4.3. Найти все вхождения номера телефона в стандартном виде с
        операторами 067, 068, 096, 097, 098, 050, 066, 095, 099, 063, 073, 093.
      </p>
      <button type="button">
        <a href="./test_hw5.html">Go</a>
      </button>
    </div>
    <script>
      function first() {
        let n = parseInt(prompt("Enter first number"), 10);
        let m = parseInt(prompt("Enter last number"), 10);
        // With parseInt we convert string to number
        // Second argument of parseInt is 10 as decimal

        let output = "";

        if (isNaN(n, m)) {
          alert("Your values are not numbers");
          // In order to catch an error
        } else {
          for (let i = n + 1; i < m; i++) {
            output += i + "; ";
            // To save all numbers from the fist to the last
          }
        }
        alert(`The numbers between ${n} and ${m} are: ${output}`);
      }

      function second() {
        let n = prompt("Enter first number (base)");
        let m = prompt("Enter second number (power)");

        // -----ARROW FUNCTION-----

        if (isNaN(n, m)) {
          alert("Your values are not numbers");
          // In order to catch an error
        } else {
          const pow = (base, exp) => {
            if (exp === 1) return base;
            else return pow(base, exp - 1) * base;
          };

          alert(`${n} raised to the power of ${m} is equal to ${pow(n, m)}`);
        }

        // -----FUNCTION EXPRESSION-----

        //   if (isNaN(n, m)) {
        //     alert("Your values are not numbers");
        //     // In order to catch an error
        //   } else {
        //     function pow1(base, exp) {
        //       let result = 1;

        //       for (let i = 0; i < exp; i++) {
        //         result = result * base;
        //       }
        //       return result;
        //     }

        //     alert(`${n} raised to the power of ${m} is equal to ${pow(n, m)}`);
        //   }
      }

      function third() {
        let input1 = parseFloat(prompt("Enter first float number"));
        let input2 = parseFloat(prompt("Enter second float number"));

        if (isNaN(input1, input2)) {
          alert("Your values are not numbers");
          // In order to catch an error
        } else {
          const func = (arg) => {
            return Math.round(arg * 0.3);
          };

          alert(
            `${input1} * 0.3 ≈ ${func(input1)} \n${input2} * 0.3 ≈ ${func(
              input2
            )}`
          );
        }
      }

      function fourth() {
        let input1 = parseFloat(prompt("Enter the min number"));
        let input2 = parseFloat(prompt("Enter the max number"));

        function randomInt(min, max) {
          let rand = min - 0.5 + Math.random() * (max - min + 1);
          // Method Math.round() gets random numbers from 1 to 3 and round them like:
          // 4 - 4.4999999999 ≈ 4
          // 5.5 - 5.4999999999 ≈ 5
          // 6.5 - 6.9999999999 ≈ 6
          // So the probability of geting 4 or 6 is smaller
          // To even the chances we shoul use as min -> min - 0.5 and as max -> max + 0.5
          return Math.round(rand);
        }

        alert(
          `Random number from ${input1} to ${input2} is ${randomInt(
            input1,
            input2
          )}`
        );
      }

      function fifth() {
        let str1 = prompt("Enter first setence");
        let str2 = prompt("Enter second sentence");

        const regexp = new RegExp(str2, "g", "i");

        const array = [...str1.matchAll(regexp)];

        let output = `There is ${array.length} repetitions of ${str2} in str ${str1}`;
        output += array.length
          ? `:\nRepetitions are on these indexes: ${array
              .map((rep) => rep["index"])
              .join(", ")}`
          : "";

        alert(output);
      }

      function sixth() {
        let num = parseInt(
          "ECMAScript 2015 (6th Edition, ECMA-262)".replace(/\D+/g, "")
        );
        // parseInt converts given string into number.
        // \D -> Searches for every symbol that is not a number.
        //  + -> Matches the preceding item 1 or more times. Equivalent to {1,}.
        // /g -> With this flag, search looks for all matches. Without him - only the first.
        // Method .replace searces for everythin matching specified conditions and replaces with "".

        alert(num);
        alert("Type is " + typeof num);
      }

      function seventh() {
        let upCase = String(
          "ECMAScript 2015 (6th Edition, ECMA-262)".match(/[A-F]/g)
        );
        // [A-F] -> Square brackets may contain character ranges. In this case, it searces for every uppercase letter.
        // /g -> With this flag, search looks for all matches. Without him - only the first.
        alert(upCase);
      }
    </script>
  </body>
</html>
